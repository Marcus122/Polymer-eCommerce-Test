<!doctype html>
<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<html>
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <script src="../webcomponentsjs/webcomponents-lite.js"></script>

  <link rel="import" href="../product-element.html">
  <link rel="import" href="../basket-element.html">
  <style>
    body{
      font-family: Arial, Helvetica, sans-serif;
      margin:0;
    }
     header{
       background:#324563;
       padding:20px;
       color:#fff;
       position:relative;
     }
     footer{
       background:#324563;
       padding:20px;
       position:fixed;
       bottom:0;
       width:100%;
     }
     main{
       margin:20px;
     }
     ul{
       list-style:none;
     }
     li{
       float:left;
       margin-right:10px;
     }
     #basket{
       position:absolute;
       right:20px;
       top:20px;
     }
     #basket-list{
       position:absolute;
       right:0;
     }
     #basket-list basket-element{
       
     }
     h2{
       color:#324563;
     }
  </style>
</head>
<body>
  <!-- Note: if the main element for this repository doesn't
       match the folder name, add a src="&lt;main-component&gt;.html" attribute,
       where &lt;main-component&gt;.html" is a file that imports all of the
       components you want documented. -->
  <header>
    <h1>My store</h1>
    <div id="basket">
        <img src="/basket-icon.png" width="80" height="80"/>
        <div id="basket-list"/>
    </div>
  </header>
  <main>
    <ul>
      <li>
        <product-element price="28" id="test" product="12345" name="Rubix Cube" img="/product.jpg"/>
      </li>
      <li>
        <product-element price="23" hideAdd="true" id="test1" product="123456" name="Rubix Cube1" img="/product.jpg" />
      </li>
    </ul>
  </main>
  <footer/>
  <script>
    (function(){
      "use strict";
        document.addEventListener("added-to-basket",function(e){
            var basket = document.getElementById("basket-list");
            basket.innerHTML="";//quick way of emptying
            var node = document.createElement("basket-element");
            node.setAttribute("product",e.srcElement.product);
            basket.appendChild(node);
        });
    })();
  </script>
</body>
</html>
